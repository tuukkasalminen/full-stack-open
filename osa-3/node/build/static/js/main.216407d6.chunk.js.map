{"version":3,"sources":["components/Filter.js","components/AddPerson.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","_ref","filter","handleFilterChange","react_default","a","createElement","value","onChange","Person","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","baseUrl","persons","getAll","axios","get","create","newObject","post","update","id","put","concat","deleteName","delete","Notification","message","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","addPerson","event","preventDefault","nameObject","name","state","number","double","find","person","toLowerCase","window","confirm","service","then","response","setState","map","data","notification","setTimeout","catch","error","target","deletePerson","n","_this2","_this3","filteredNames","includes","components_Notification","components_Filter","AddPerson","key","onClick","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"iNAWmBA,EATJ,SAAAC,GAAoC,IAAjCC,EAAiCD,EAAjCC,OAAQC,EAAyBF,EAAzBE,mBAC1B,OACIC,EAAAC,EAAAC,cAAA,yCACkBF,EAAAC,EAAAC,cAAA,SAClBC,MAAOL,EACPM,SAAUL,MCiBCM,EAtBA,SAAAR,GAA2E,IAAxES,EAAwET,EAAxES,QAASC,EAA+DV,EAA/DU,QAASC,EAAsDX,EAAtDW,iBAAkBC,EAAoCZ,EAApCY,UAAWC,EAAyBb,EAAzBa,mBACjE,OACAV,EAAAC,EAAAC,cAAA,QAAMS,SAAUL,GAChBN,EAAAC,EAAAC,cAAA,oBACQF,EAAAC,EAAAC,cAAA,SACNC,MAAOI,EACPH,SAAUI,KAGZR,EAAAC,EAAAC,cAAA,sBACUF,EAAAC,EAAAC,cAAA,SACRC,MAAOM,EACPL,SAAUM,KAGZV,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,UAAQU,KAAK,UAAb,kCCjBEC,EAAU,eAmBDC,EAAA,CAAEC,OAjBF,WACT,OAAOC,IAAMC,IAAIJ,IAgBEK,OAZV,SAACC,GACZ,OAAOH,IAAMI,KAAKP,EAASM,IAWEE,OARlB,SAACC,EAAIH,GAChB,OAAOH,IAAMO,IAAN,GAAAC,OAAaX,EAAb,KAAAW,OAAwBF,GAAMH,IAOAM,WAJtB,SAACH,GAChB,OAAON,IAAMU,OAAN,GAAAF,OAAgBX,EAAhB,KAAAW,OAA2BF,MCNvBK,EATM,SAAA9B,GAAiB,IAAd+B,EAAc/B,EAAd+B,QACpB,OAAe,OAAZA,EACQ,KAGP5B,EAAAC,EAAAC,cAAA,WAAM0B,IC8HCC,cA9Hb,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAkBRQ,UAAY,SAACC,GACXA,EAAMC,iBACN,IAAMC,EAAa,CACjBC,KAAMX,EAAKY,MAAMpC,QACjBqC,OAAQb,EAAKY,MAAMlC,WAGfoC,EAASd,EAAKY,MAAM7B,QAAQgC,KAAK,SAAAC,GAAM,OAC3CA,EAAOL,KAAKM,gBAAkBjB,EAAKY,MAAMpC,QAAQyC,gBAGhDH,EACEI,OAAOC,QAAQ,qCAClBC,EAAQ9B,OAAOwB,EAAOvB,GAAImB,GACzBW,KAAK,SAAAC,GACJtB,EAAKuB,SAAS,CACZxC,QAASiB,EAAKY,MAAM7B,QAAQyC,IAAI,SAAAR,GAAM,OAAIA,EAAOzB,KAAOuB,EAAOvB,GAAKyB,EAASM,EAASG,OACtFjD,QAAS,GACTE,UAAW,GACXgD,aAAc,oBAEhBC,WAAW,WACT3B,EAAKuB,SAAS,CAACG,aAAc,QAC5B,OAEJE,MAAM,SAAAC,GACL7B,EAAKuB,SAAS,CACZxC,QAASiB,EAAKY,MAAM7B,QAAQhB,OAAO,SAAAiD,GAAM,OAAIA,EAAOzB,KAAOuB,EAAOvB,KAClEmC,aAAY,eAAAjC,OAAiBqB,EAAOH,KAAxB,sBAEdgB,WAAW,WACT3B,EAAKuB,SAAS,CAACG,aAAc,QAC5B,OAKLN,EAAQjC,OAAOuB,GACZW,KAAK,SAAAC,GACJtB,EAAKuB,SAAS,CACZxC,QAASiB,EAAKY,MAAM7B,QAAQU,OAAO6B,EAASG,MAC5CjD,QAAS,GACTE,UAAW,GACXgD,aAAc,0BAEtBC,WAAW,WACT3B,EAAKuB,SAAS,CAACG,aAAc,QAC5B,QAlEc1B,EAwEnBvB,iBAAmB,SAAC+B,GAClBR,EAAKuB,SAAS,CAAE/C,QAASgC,EAAMsB,OAAO1D,SAzErB4B,EA2EnBrB,mBAAqB,SAAC6B,GACpBR,EAAKuB,SAAS,CAAE7C,UAAW8B,EAAMsB,OAAO1D,SA5EvB4B,EA8EnBhC,mBAAqB,SAACwC,GACpBR,EAAKuB,SAAS,CAAExD,OAAQyC,EAAMsB,OAAO1D,SA/EpB4B,EAiFpB+B,aAAe,SAACxC,EAAIoB,GACdO,OAAOC,QAAP,gBAAA1B,OAA+BkB,KAClCS,EAAQ1B,WAAWH,GAChB8B,KAAK,SAAAC,GACJtB,EAAKuB,SAAS,CACZxC,QAASiB,EAAKY,MAAM7B,QAAQhB,OAAO,SAAAiE,GAAC,OAAIA,EAAEzC,KAAOA,IACjDmC,aAAc,yBAEhBC,WAAW,WACT3B,EAAKuB,SAAS,CAACG,aAAc,QAC5B,QAzFP1B,EAAKY,MAAQ,CACX7B,QAAS,GACTP,QAAS,GACTE,UAAW,GACXX,OAAQ,GACR2D,aAAc,MAPC1B,mFAWC,IAAAiC,EAAA9B,KAClBiB,EACGpC,SACAqC,KAAK,SAAAC,GACJW,EAAKV,SAAS,CAAExC,QAASuC,EAASG,0CAgF/B,IAAAS,EAAA/B,KACDgC,EAAgBhC,KAAKS,MAAM7B,QAAQhB,OACvC,SAACiD,GACC,OAAOA,EAAOL,KAAKM,cAAcmB,SAASF,EAAKtB,MAAM7C,UAGzD,OACEE,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACkE,EAAD,CAAcxC,QAASM,KAAKS,MAAMc,eAClCzD,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAACmE,EAAD,CAAQvE,OAAQoC,KAAKS,MAAM7C,OAC3BC,mBAAoBmC,KAAKnC,qBAEzBC,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAACoE,EAAD,CACAhE,QAAS4B,KAAKI,UACd/B,QAAS2B,KAAKS,MAAMpC,QACpBC,iBAAkB0B,KAAK1B,iBACvBC,UAAWyB,KAAKS,MAAMlC,UACtBC,mBAAoBwB,KAAKxB,qBAEzBV,EAAAC,EAAAC,cAAA,qBACCgE,EAAcX,IAAI,SAAAR,GAAM,OAAI/C,EAAAC,EAAAC,cAAA,OAAKqE,IAAKxB,EAAOzB,IAAKyB,EAAOL,KAA7B,IAAoCK,EAAOH,OACxE5C,EAAAC,EAAAC,cAAA,UAAQsE,QAAS,kBAAMP,EAAKH,aAAaf,EAAOzB,GAAIyB,EAAOL,QAA3D,qBAvHU+B,IAAMC,WCFxBC,IAASC,OAAO5E,EAAAC,EAAAC,cAAC2E,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.216407d6.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({ filter, handleFilterChange }) => {\r\nreturn (    \r\n    <div>\r\n    rajaa näytettäviä <input \r\n    value={filter}\r\n    onChange={handleFilterChange}\r\n    />\r\n    </div>)}\r\n\r\n    export default Filter","import React from 'react';\r\n\r\nconst Person = ({ addName, newName, handleNameChange, newNumber, handleNumberChange }) => {\r\nreturn (\r\n<form onSubmit={addName}>\r\n<div>\r\n  nimi: <input \r\n  value={newName}\r\n  onChange={handleNameChange}\r\n  />\r\n</div>\r\n<div>\r\n  numero: <input\r\n  value={newNumber}\r\n  onChange={handleNumberChange}\r\n  />\r\n</div>\r\n<div>\r\n    <button type=\"submit\">lisää</button>\r\n</div>\r\n</form>\r\n)\r\n}\r\n\r\nexport default Person","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n      return axios.get(baseUrl)\r\n\r\n}\r\n\r\nconst create = (newObject) => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst deleteName = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { getAll, create, update, deleteName }","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if(message === null) {\r\n        return null\r\n    }\r\n    return (\r\n        <div>{message}</div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React from 'react';\nimport Filter from './components/Filter';\nimport Person from './components/AddPerson';\nimport service from './services/persons'\nimport Notification from './components/Notification'\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      persons: [],\n      newName: '',\n      newNumber: '',\n      filter: '',\n      notification: null\n    }\n  }\n\n  componentDidMount() {\n    service\n      .getAll()\n      .then(response => {\n        this.setState({ persons: response.data })\n      })\n  }\n\n  addPerson = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: this.state.newName,\n      number: this.state.newNumber,\n    }\n\n    const double = this.state.persons.find(person => \n      person.name.toLowerCase() === this.state.newName.toLowerCase()\n    )\n\n    if(double) { \n      if(window.confirm('korvataanko vanha numero uudella'))\n      service.update(double.id, nameObject)\n      .then(response => {\n        this.setState({\n          persons: this.state.persons.map(person => person.id !== double.id ? person : response.data),\n          newName: '',\n          newNumber: '',\n          notification: 'numero korvattu'\n        })\n        setTimeout(() => {\n          this.setState({notification: null})\n        }, 5000);\n      })\n      .catch(error => {\n        this.setState({\n          persons: this.state.persons.filter(person => person.id !== double.id),\n          notification: `yhteystieto ${double.name} on jo poistunut`\n        })\n        setTimeout(() => {\n          this.setState({notification: null})\n        }, 5000);\n      })\n    }\n\n    else {\n      service.create(nameObject)\n        .then(response => {\n          this.setState({\n            persons: this.state.persons.concat(response.data),\n            newName: '',\n            newNumber: '',\n            notification: 'henkilö lisätty'\n    })\n    setTimeout(() => {\n      this.setState({notification: null})\n    }, 5000);\n  })\n  \n  }\n}\n\n  handleNameChange = (event) => {\n    this.setState({ newName: event.target.value })\n  }\n  handleNumberChange = (event) => {\n    this.setState({ newNumber: event.target.value })\n  }\n  handleFilterChange = (event) => {\n    this.setState({ filter: event.target.value })\n  }\n deletePerson = (id, name) => {\n    if(window.confirm(`poistetaanko ${name}`))\n    service.deleteName(id)\n      .then(response => {\n        this.setState({\n          persons: this.state.persons.filter(n => n.id !== id),\n          notification: 'henkilö poistettu'\n        })\n        setTimeout(() => {\n          this.setState({notification: null})\n        }, 5000);\n      })\n  }\n\n  render() {\n    const filteredNames = this.state.persons.filter(\n      (person) => { \n        return person.name.toLowerCase().includes(this.state.filter)\n      })\n    \n    return (\n      <div>\n        <Notification message={this.state.notification}/>\n        <h2>Puhelinluettelo</h2>\n        <Filter filter={this.state.filter}\n        handleFilterChange={this.handleFilterChange}\n        />\n        <h3>lisää uusi</h3>\n        <Person \n        addName={this.addPerson}\n        newName={this.state.newName}\n        handleNameChange={this.handleNameChange}\n        newNumber={this.state.newNumber}\n        handleNumberChange={this.handleNumberChange}\n        />\n        <h2>Numerot</h2>\n        {filteredNames.map(person => <div key={person.id}>{person.name} {person.number}\n        <button onClick={() => this.deletePerson(person.id, person.name)}>poista</button>\n        </div>)}\n      </div>\n      \n    )\n  }\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}