(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(40)},40:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(10),o=n.n(r),u=n(11),l=n(12),s=n(14),c=n(13),m=n(15),f=function(e){var t=e.filter,n=e.handleFilterChange;return i.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4 ",i.a.createElement("input",{value:t,onChange:n}))},d=function(e){var t=e.addName,n=e.newName,a=e.handleNameChange,r=e.newNumber,o=e.handleNumberChange;return i.a.createElement("form",{onSubmit:t},i.a.createElement("div",null,"nimi: ",i.a.createElement("input",{value:n,onChange:a})),i.a.createElement("div",null,"numero: ",i.a.createElement("input",{value:r,onChange:o})),i.a.createElement("div",null,i.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},h=n(2),p=n.n(h),w="/api/persons",N={getAll:function(){return p.a.get(w)},create:function(e){return p.a.post(w,e)},update:function(e,t){return p.a.put("".concat(w,"/").concat(e),t)},deleteName:function(e){return p.a.delete("".concat(w,"/").concat(e))}},v=function(e){var t=e.message;return null===t?null:i.a.createElement("div",null,t)},b=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(s.a)(this,Object(c.a)(t).call(this,e))).addPerson=function(e){e.preventDefault();var t={name:n.state.newName,number:n.state.newNumber},a=n.state.persons.find(function(e){return e.name.toLowerCase()===n.state.newName.toLowerCase()});a?window.confirm("korvataanko vanha numero uudella")&&N.update(a.id,t).then(function(e){n.setState({persons:n.state.persons.map(function(t){return t.id!==a.id?t:e.data}),newName:"",newNumber:"",notification:"numero korvattu"}),setTimeout(function(){n.setState({notification:null})},5e3)}).catch(function(e){n.setState({persons:n.state.persons.filter(function(e){return e.id!==a.id}),notification:"yhteystieto ".concat(a.name," on jo poistunut")}),setTimeout(function(){n.setState({notification:null})},5e3)}):N.create(t).then(function(e){n.setState({persons:n.state.persons.concat(e.data),newName:"",newNumber:"",notification:"henkil\xf6 lis\xe4tty"}),setTimeout(function(){n.setState({notification:null})},5e3)})},n.handleNameChange=function(e){n.setState({newName:e.target.value})},n.handleNumberChange=function(e){n.setState({newNumber:e.target.value})},n.handleFilterChange=function(e){n.setState({filter:e.target.value})},n.deletePerson=function(e,t){window.confirm("poistetaanko ".concat(t))&&N.deleteName(e).then(function(t){n.setState({persons:n.state.persons.filter(function(t){return t.id!==e}),notification:"henkil\xf6 poistettu"}),setTimeout(function(){n.setState({notification:null})},5e3)})},n.state={persons:[],newName:"",newNumber:"",filter:"",notification:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;N.getAll().then(function(t){e.setState({persons:t.data})})}},{key:"render",value:function(){var e=this,t=this.state.persons.filter(function(t){return t.name.toLowerCase().includes(e.state.filter)});return i.a.createElement("div",null,i.a.createElement(v,{message:this.state.notification}),i.a.createElement("h2",null,"Puhelinluettelo"),i.a.createElement(f,{filter:this.state.filter,handleFilterChange:this.handleFilterChange}),i.a.createElement("h3",null,"lis\xe4\xe4 uusi"),i.a.createElement(d,{addName:this.addPerson,newName:this.state.newName,handleNameChange:this.handleNameChange,newNumber:this.state.newNumber,handleNumberChange:this.handleNumberChange}),i.a.createElement("h2",null,"Numerot"),t.map(function(t){return i.a.createElement("div",{key:t.id},t.name," ",t.number,i.a.createElement("button",{onClick:function(){return e.deletePerson(t.id,t.name)}},"poista"))}))}}]),t}(i.a.Component);o.a.render(i.a.createElement(b,null),document.getElementById("root"))}},[[16,2,1]]]);
//# sourceMappingURL=main.216407d6.chunk.js.map